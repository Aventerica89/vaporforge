{
  "hooks": {
    "postToolUse": {
      "Edit": "npm run typecheck 2>&1 | head -20 || true; npm run lint 2>&1 | head -10 || true; git status --porcelain Dockerfile 2>/dev/null | grep -q . && echo '⚠️  Dockerfile modified — run: docker builder prune --all -f before npm run deploy' || true",
      "Write": "npm run typecheck 2>&1 | head -20 || true; npm run lint 2>&1 | head -10 || true; git status --porcelain Dockerfile 2>/dev/null | grep -q . && echo '⚠️  Dockerfile modified — run: docker builder prune --all -f before npm run deploy' || true"
    }
  },
  "permissions": {
    "allow": [
      "Bash(npm run typecheck:*)",
      "Bash(npm run test:*)",
      "Bash(npm run build:*)",
      "Bash(wrangler deploy:preview)"
    ],
    "deny": [
      "Bash(wrangler deploy)",
      "Bash(git push:main)"
    ]
  }
}

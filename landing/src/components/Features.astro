---
const features = [
  {
    title: 'Cloud Sandboxes',
    description: 'Real Cloudflare Containers with full filesystem, package manager, and persistent storage. Not a REPL — a real Linux box.',
    icon: 'cloud',
    badge: 'Full Linux',
    pills: ['Containers', 'Root Access'],
  },
  {
    title: 'Your Claude Account',
    description: 'Use your existing Claude Pro or Max subscription. No API cost markup, no middleman. You own your usage.',
    icon: 'key',
    badge: 'No Markup',
    highlighted: true,
    pills: ['BYOK', 'Zero Cost'],
  },
  {
    title: 'MCP Relay',
    description: 'Connect MCP servers from your local machine to the cloud. Browser-devtools, Playwright, databases — your tools follow you.',
    icon: 'radio',
    badge: 'New',
    pills: ['WebSocket', 'Bridge'],
  },
  {
    title: 'Real Terminal',
    description: 'xterm.js terminal with bash, apt, npm, git, and every CLI tool. Stream output in real-time. Run dev servers.',
    icon: 'terminal',
    badge: 'Real Shell',
    pills: ['xterm.js', 'Bash'],
  },
  {
    title: 'Mobile-First',
    description: 'Touch-optimized with iPad split view, haptic feedback, pull-to-refresh, and pinch-to-zoom. Full PWA support.',
    icon: 'smartphone',
    badge: 'Any Device',
    pills: ['PWA', 'Touch'],
  },
  {
    title: 'Zero Install',
    description: 'Open your browser, paste your Claude token, start coding. Nothing to download, configure, or maintain.',
    icon: 'zap',
    badge: 'Instant',
    pills: ['Browser', 'No Setup'],
  },
  {
    title: 'AI Streaming',
    description: 'Server-sent events deliver Claude responses in real-time. Watch code being written, files edited, and tools invoked live.',
    icon: 'signal',
    badge: 'Real-Time',
    pills: ['SSE', 'Live'],
  },
  {
    title: 'Secrets Vault',
    description: 'Store API keys and env vars securely per-project. Keys are encrypted at rest in Cloudflare KV and injected at runtime.',
    icon: 'lock',
    badge: 'Encrypted',
    pills: ['KV', 'Per-Project'],
  },
  {
    title: 'Session Persistence',
    description: 'Conversations and files survive browser refresh. Resume any session from any device, right where you left off.',
    icon: 'save',
    badge: 'Always On',
    pills: ['Resume', 'Any Device'],
  },
];
---

<section id="features" class="relative px-4 py-16 sm:px-6 sm:py-20 cyber-grid cyber-scan">
  <div class="absolute right-0 top-1/2 -translate-y-1/2 h-[400px] w-[300px] rounded-full bg-vapor-purple-dark/8 blur-[120px] pointer-events-none" />

  <div class="relative z-10 mx-auto max-w-6xl">
    <div class="text-center mb-16">
      <span class="font-display text-xs tracking-[0.3em] uppercase text-vapor-purple">Capabilities</span>
      <h2 class="mt-4 font-display text-3xl font-bold tracking-wide sm:text-4xl cyber-glow">
        Everything you need to ship
      </h2>
      <p class="mx-auto mt-5 max-w-2xl text-vapor-muted leading-relaxed">
        A complete IDE experience powered by Claude Code SDK,
        running on Cloudflare's global edge network.
      </p>
    </div>

    <div class="grid gap-5 sm:grid-cols-2 lg:grid-cols-3">
      {features.map(({ title, description, icon, badge, highlighted, pills }) => (
        <div class:list={[
          'group rounded-xl p-px transition-all duration-300 hover:-translate-y-1',
          highlighted
            ? 'bg-gradient-to-br from-vapor-accent/60 via-vapor-purple/50 to-vapor-purple-dark/60 shadow-[0_0_30px_rgba(29,211,230,0.15)] hover:shadow-[0_0_40px_rgba(29,211,230,0.25)]'
            : 'cyber-card hover:shadow-lg hover:shadow-vapor-purple/10',
        ]}>
          <div class:list={[
            'p-6 transition-all h-full rounded-xl relative',
            highlighted ? 'bg-vapor-card group-hover:bg-vapor-card/90' : 'bg-vapor-card group-hover:bg-vapor-card/80',
          ]}>
            {badge && (
              <span class:list={[
                'absolute top-4 right-4 rounded-full px-2.5 py-0.5 text-[10px] font-semibold tracking-wide uppercase font-display',
                highlighted
                  ? 'bg-vapor-accent/20 text-vapor-accent border border-vapor-accent/30'
                  : 'bg-vapor-purple-bg text-vapor-purple border border-vapor-purple-bg/80',
              ]}>
                {badge}
              </span>
            )}
            <div class:list={[
              'mb-4 flex h-10 w-10 items-center justify-center rounded-lg',
              highlighted
                ? 'bg-gradient-to-br from-vapor-accent/25 to-vapor-purple/25 text-vapor-accent'
                : 'bg-gradient-to-br from-vapor-accent/15 to-vapor-purple/15 text-vapor-accent',
            ]}>
              {icon === 'cloud' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"/></svg>
              )}
              {icon === 'terminal' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>
              )}
              {icon === 'smartphone' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"/><line x1="12" y1="18" x2="12.01" y2="18"/></svg>
              )}
              {icon === 'zap' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
              )}
              {icon === 'signal' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 20h.01"/><path d="M7 20v-4"/><path d="M12 20v-8"/><path d="M17 20V8"/><path d="M22 4v16"/></svg>
              )}
              {icon === 'lock' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
              )}
              {icon === 'key' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.78 7.78 5.5 5.5 0 0 1 7.78-7.78zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg>
              )}
              {icon === 'save' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
              )}
              {icon === 'radio' && (
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="2"/><path d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"/></svg>
              )}
            </div>
            <h3 class:list={[
              'font-display text-base font-bold tracking-wide',
              highlighted ? 'cyber-gradient-text' : 'text-white',
            ]}>{title}</h3>
            <p class="mt-2 text-sm leading-relaxed text-vapor-muted">{description}</p>
            {pills && pills.length > 0 && (
              <div class="mt-3 flex flex-wrap gap-1.5">
                {pills.map((pill) => (
                  <span class="rounded-full bg-vapor-purple-bg/60 px-2.5 py-0.5 text-[10px] font-medium text-vapor-muted/90 border border-vapor-purple-bg/80">
                    {pill}
                  </span>
                ))}
              </div>
            )}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
